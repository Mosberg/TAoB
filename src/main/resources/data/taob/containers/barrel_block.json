{
  "schema_version": 1,
  "id": "taob:barrel_block_standard",
  "type": "taob:container_block",
  "category": "containers",
  "container_type": "barrel",
  "size": "standard",
  "item_registry": "taob:barrel_blocks",
  "units": { "fluid": "mB" },
  "capacity": 30000,
  "transfer": { "bottle": 250, "bucket": 1000 },
  "fill_sound": "minecraft:item.bottle.fill",
  "empty_sound": "minecraft:item.bottle.empty",
  "drink_sound": "minecraft:entity.player.burp",
  "sounds": {
    "fill": { "id": "minecraft:item.bottle.fill", "volume": 1.0, "pitch": 1.0 },
    "empty": { "id": "minecraft:item.bottle.empty", "volume": 1.0, "pitch": 1.0 },
    "drink": { "id": "minecraft:entity.player.burp", "volume": 1.0, "pitch": 1.0 },
    "seal": { "id": "minecraft:block.barrel.close", "volume": 0.9, "pitch": 1.1 },
    "unseal": { "id": "minecraft:block.barrel.open", "volume": 0.9, "pitch": 1.0 }
  },
  "storage": {
    "persist": true,
    "serialization": { "nbt_key": "TaobContainer", "fluid_key": "Fluid", "amount_key": "Amount" }
  },
  "fluid_rules": {
    "allowed_fluid_tags": ["taob:storable_fluids"],
    "blocked_fluid_tags": ["taob:blocked_fluids"],
    "allow_mixing": false,
    "allow_empty": true
  },
  "settings": {
    "require_sneak_to_empty": true,
    "allow_partial_transfers": true,
    "cooldown_ticks": { "fill": 5, "empty": 5, "drink": 20 },
    "fail_behavior": "PASS",
    "sealed_by_default": false,
    "allow_seal": true,
    "allow_drink": true,
    "allow_fill_when_sealed": false,
    "allow_empty_when_sealed": false,
    "lockable": true,
    "owner_only_when_locked": true
  },
  "ui": {
    "show_capacity": true,
    "show_fluid": true,
    "show_amounts": true,
    "show_sealed_state": true,
    "show_locked_state": true,
    "action_order": [
      "fill",
      "empty",
      "fill_partial",
      "empty_partial",
      "draw_bucket",
      "draw_small_flask",
      "draw_medium_flask",
      "draw_large_flask",
      "fill_all",
      "empty_all",
      "drink",
      "seal",
      "unseal",
      "toggle_lock"
    ]
  },
  "automation": {
    "allow_item_io": true,
    "allow_fluid_io": true,
    "sided_io": {
      "up": "IN",
      "down": "OUT",
      "north": "BOTH",
      "south": "BOTH",
      "east": "BOTH",
      "west": "BOTH"
    }
  },
  "redstone": { "comparator_output": "FILL_LEVEL_0_15" },
  "interaction": {
    "fill": {
      "amount": 250,
      "mode": "ALL_OR_NOTHING",
      "cooldown_ticks": 5,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "LESS_THAN", "value": 29751 }
      ]
    },
    "empty": {
      "amount": 250,
      "mode": "ALL_OR_NOTHING",
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "GREATER_THAN", "value": 249 }
      ]
    },
    "fill_partial": {
      "amount": 250,
      "mode": "CLAMP",
      "cooldown_ticks": 5,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "LESS_THAN", "value": 30000 }
      ]
    },
    "empty_partial": {
      "amount": 250,
      "mode": "CLAMP",
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "GREATER_THAN", "value": 0 }
      ]
    },
    "fill_all": {
      "amount": 30000,
      "mode": "ALL_OR_NOTHING",
      "requires_sneak": true,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "LESS_THAN", "value": 1 }
      ]
    },
    "empty_all": {
      "amount": 30000,
      "mode": "ALL_OR_NOTHING",
      "requires_sneak": true,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "GREATER_THAN", "value": 29999 }
      ]
    },
    "draw_bucket": {
      "amount": 1000,
      "mode": "ALL_OR_NOTHING",
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "GREATER_THAN", "value": 999 }
      ]
    },
    "draw_small_flask": {
      "amount": 250,
      "mode": "ALL_OR_NOTHING",
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "GREATER_THAN", "value": 249 }
      ]
    },
    "draw_medium_flask": {
      "amount": 500,
      "mode": "ALL_OR_NOTHING",
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "GREATER_THAN", "value": 499 }
      ]
    },
    "draw_large_flask": {
      "amount": 1000,
      "mode": "ALL_OR_NOTHING",
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:fluid_level", "comparison": "GREATER_THAN", "value": 999 }
      ]
    },
    "drink": {
      "amount": 250,
      "mode": "ALL_OR_NOTHING",
      "cooldown_ticks": 20,
      "conditions": [
        { "type": "taob:sealed", "value": false },
        { "type": "taob:setting", "path": "settings.allow_drink", "value": true },
        { "type": "taob:fluid_level", "comparison": "GREATER_THAN", "value": 249 }
      ],
      "effects": { "hunger": 0, "saturation": 0.0, "status_effects": [] }
    },
    "seal": {
      "mode": "TOGGLE_STATE",
      "state_key": "sealed",
      "state_value": true,
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [{ "type": "taob:setting", "path": "settings.allow_seal", "value": true }]
    },
    "unseal": {
      "mode": "TOGGLE_STATE",
      "state_key": "sealed",
      "state_value": false,
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [{ "type": "taob:setting", "path": "settings.allow_seal", "value": true }]
    },
    "toggle_lock": {
      "mode": "TOGGLE_STATE",
      "state_key": "locked",
      "cooldown_ticks": 5,
      "requires_sneak": true,
      "conditions": [{ "type": "taob:setting", "path": "settings.lockable", "value": true }]
    }
  }
}
